(()=>{"use strict";var t=t||{};window.MartApp=t,t.isRTL="rtl"===$("body").prop("dir"),function(e){t.init=function(){t.$body=e(document.body),t.$formSearch=e("#products-filter-form"),t.productListing=".products-listing",t.$productListing=e(t.productListing),t.shopCart=document.getElementById("shop-cart-offcanvas"),t.$shopCart=new bootstrap.Offcanvas(t.shopCart),t.$quickViewModal=e("#product-quick-view-modal"),this.productQuickView(),this.productQuantity(),this.addProductToWishlist(),this.addProductToCompare(),this.addProductToCart(),this.applyCouponCode(),this.filterSlider(),this.handleTabBootstrap(),this.toggleViewProducts(),this.toolbarOrderingProducts(),this.productsFilter(),this.searchProducts(),this.ajaxUpdateCart(),this.removeCartItem(),this.removeWishlistItem(),this.removeCompareItem(),this.customerDashboard(),this.stickyAddToCart(),this.recentlyViewedProducts(),this.lightBox(),this.productGallery(),this.reviewList(),t.$body.on("click",".sidebar-filter-mobile",(function(a){a.preventDefault(),t.toggleSidebarFilterProducts("open",e(a.currentTarget).data("toggle"))})),t.$body.on("submit",".products-filter-form-vendor",(function(e){return!t.$formSearch.length||(t.$formSearch.trigger("submit"),!1)}))},t.toggleSidebarFilterProducts=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"close",a=e('[data-toggle-target="'+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"product-categories-primary-sidebar")+'"]');"close"===t?(a.removeClass("active"),_scrollBar.reset()):(a.addClass("active"),_scrollBar.hide())},t.productQuickView=function(){t.$body.on("click",".box-quick-view .product-quick-view-button",(function(a){a.preventDefault();var o=e(a.currentTarget);e.ajax({url:o.data("url"),type:"GET",beforeSend:function(){o.addClass("button-loading"),t.$quickViewModal.removeClass("loaded").addClass("loading"),t.$quickViewModal.modal("show"),t.$quickViewModal.find(".product-modal-content").addClass("content-loading").html("")},success:function(e){e.error||t.$quickViewModal.find(".product-modal-content").html(e.data)},error:function(t){AgonApp.handleError(t)},complete:function(){t.$quickViewModal.addClass("loaded").removeClass("loading"),t.$quickViewModal.find(".product-modal-content").removeClass("content-loading"),o.removeClass("button-loading")}})}))},t.productGallery=function(a,o){o&&o.length||(o=e(".product-image-slider"));var r=o.data("nav");o.length&&a&&(o.hasClass("slick-initialized")&&o.slick("unslick"),e(r).length&&e(r).hasClass("slick-initialized")&&e(r).slick("unslick")),o.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!1,asNavFor:r,rtl:t.isRTL});var n={slidesToShow:3,slidesToScroll:1,asNavFor:o.data("main"),dots:!1,focusOnSelect:!0,vertical:!0,prevArrow:'<button type="button" class="slick-prev"><i class="fi-rs-arrow-small-left"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fi-rs-arrow-small-right"></i></button>',responsive:[{breakpoint:768,settings:{vertical:!1,adaptiveHeight:!0}}],rtl:t.isRTL};e(r).slick(n)},t.productQuantity=function(){t.$body.on("click",".quantity .increase, .quantity .decrease",(function(a){a.preventDefault();var o=e(this),r=o.closest(".product-button").find(".quantity_button"),n=o.closest(".quantity").siblings(".box-price").find(".price-current"),i=n.html(),s=o.siblings(".qty"),c=parseInt(s.attr("step"),10),l=parseInt(s.val(),10),d=parseInt(s.attr("min"),10),u=parseInt(s.attr("max"),10);if(d=d||1,u=u||l+1,o.hasClass("decrease")&&l>d){s.val(l-c),s.trigger("change");var p=+r.attr("data-quantity");p-=1,r.attr("data-quantity",p);var f=(1*i-i/l).toFixed(2);n.html(f)}if(o.hasClass("increase")&&l<u){s.val(l+c),s.trigger("change");var h=+r.attr("data-quantity");h+=1,r.attr("data-quantity",h);var m=(1*i+i/l).toFixed(2);n.html(m)}t.processUpdateCart(o)})),t.$body.on("keyup",".quantity .qty",(function(a){a.preventDefault();var o=e(this),r=o.closest(".product-button").find(".quantity_button"),n=o.closest(".quantity").siblings(".box-price").find(".price-current"),i=n.data("current"),s=parseInt(o.val(),10),c=parseInt(o.attr("min"),10),l=parseInt(o.attr("max"),10);if(s<=(l||s+1)&&s>=(c||1)){r.attr("data-quantity",s);var d=(i*s).toFixed(2);n.html(d)}t.processUpdateCart(o)}))},t.addProductToWishlist=function(){t.$body.on("click",".product-wishlist-button",(function(t){t.preventDefault();var a=e(t.currentTarget),o=e("#btn-view-more-wishlist").html();e.ajax({url:a.data("url"),method:"POST",beforeSend:function(){a.addClass("button-loading")},success:function(t){var r;if(t.error)return AgonApp.showError(t.message),!1;AgonApp.showSuccess(t.message+o),e(".btn-wishlist .header-item-counter").text(t.data.count),null!==(r=t.data)&&void 0!==r&&r.added?e('.wishlist-button .wishlist[data-url="'+a.data("url")+'"]').addClass("added-to-wishlist"):e('.wishlist-button .wishlist[data-url="'+a.data("url")+'"]').removeClass("added-to-wishlist")},error:function(t){AgonApp.showError(t.message)},complete:function(){a.removeClass("button-loading")}})}))},t.addProductToCompare=function(){t.$body.on("click",".product-compare-button",(function(t){t.preventDefault();var a=e(t.currentTarget),o=e("#btn-view-more-compare").html();e.ajax({url:a.data("url"),method:"POST",beforeSend:function(){a.addClass("button-loading")},success:function(t){if(t.error)return AgonApp.showError(t.message),!1;AgonApp.showSuccess(t.message+o),e(".btn-compare .header-item-counter").text(t.data.count)},error:function(t){AgonApp.showError(t.message)},complete:function(){a.removeClass("button-loading")}})}))},t.addProductToCart=function(){t.$body.on("click","form.cart-form button[type=submit]",(function(a){a.preventDefault();var o=e(this).closest("form.cart-form"),r=e(this);e.ajax({type:"POST",url:o.prop("action"),data:o.serialize(),beforeSend:function(){r.addClass("button-loading")},success:function(e){if(e.error)return AgonApp.showError(e.message),!1;"checkout"===r.prop("name")&&void 0!==e.data.next_url?window.location.href=e.data.next_url:(t.$shopCart.show(),t.loadAjaxCart())},error:function(t){AgonApp.handleError(t,o)},complete:function(){r.removeClass("button-loading")}})}))},t.applyCouponCode=function(){e(document).on("keypress",".form-coupon-wrapper .coupon-code",(function(t){if("Enter"===t.key)return t.preventDefault(),t.stopPropagation(),e(t.currentTarget).closest(".form-coupon-wrapper").find(".btn-apply-coupon-code").trigger("click"),!1})),e(document).on("click",".btn-apply-coupon-code",(function(t){t.preventDefault();var a=e(t.currentTarget);e.ajax({url:a.data("url"),type:"POST",data:{coupon_code:a.closest(".form-coupon-wrapper").find(".coupon-code").val()},beforeSend:function(){a.prop("disabled",!0).addClass("loading")},success:function(t){t.error?AgonApp.showError(t.message):e(".cart-page-content").load(window.location.href+"?applied_coupon=1 .cart-page-content > *",(function(){a.prop("disabled",!1).removeClass("loading"),AgonApp.showSuccess(t.message)}))},error:function(t){AgonApp.handleError(t)},complete:function(t){var e;200==t.status&&0==(null==t||null===(e=t.responseJSON)||void 0===e?void 0:e.error)||a.prop("disabled",!1).removeClass("loading")}})})),e(document).on("click",".btn-remove-coupon-code",(function(t){t.preventDefault();var a=e(t.currentTarget),o=a.text();a.text(a.data("processing-text")),e.ajax({url:a.data("url"),type:"POST",success:function(t){var r;t.error?AgonApp.showError(t.message):e(".cart-page-content").load((null===(r=window.location.href)||void 0===r?void 0:r.split("?")[0])+" .cart-page-content > *",(function(){a.text(o)}))},error:function(t){AgonApp.handleError(t)},complete:function(t){var e;200==t.status&&0==(null==t||null===(e=t.responseJSON)||void 0===e?void 0:e.error)||a.text(o)}})}))},t.loadAjaxCart=function(){var a;null!==(a=window.siteConfig)&&void 0!==a&&a.ajaxCart&&e.ajax({url:window.siteConfig.ajaxCart,method:"GET",success:function(a){a.error||(e(".btn-shopping-cart .header-item-counter").text(a.data.count),e(".cart--mini .cart-price-total .cart-amount span").text(a.data.total_price),e(".menu--footer .icon-cart .cart-counter").text(a.data.count),e(".header-top .header-cart-button .cart-count").text(a.data.count),e(t.shopCart).find(".mini-cart-content").html(a.data.html))}})},t.changeInputInSearchForm=function(o){a=!1,t.$formSearch.find("input, select, textarea").each((function(t,a){var r=e(a),n=r.attr("name"),i=o[n]||null;if("checkbox"===r.attr("type"))r.prop("checked",!1),Array.isArray(i)?r.prop("checked",i.includes(r.val())):r.prop("checked",!!i);else r.is("[name=max_price]")?r.val(i||r.data("max")):r.is("[name=min_price]")?r.val(i||r.data("min")):r.val()!=i&&r.val(i)})),a=!0},t.convertFromDataToArray=function(e){var a=[];return e.forEach((function(e){if(e.value){if(["min_price","max_price"].includes(e.name))if(t.$formSearch.find("input[name="+e.name+"]").data(e.name.substring(0,3))==parseInt(e.value))return;a.push(e)}})),a};var a=!0;t.productsFilter=function(){function o(t){t.length&&(t.addClass("opened"),t.closest("ul").closest("li.category-filter").length&&o(t.closest("ul").closest("li.category-filter")))}t.widgetProductCategories=".widget-product-categories",t.$widgetProductCategories=e(t.widgetProductCategories),e(document).on("change","#products-filter-form .product-filter-item",(function(){a&&e(this).closest("form").trigger("submit")})),e(".widget-product-categories").find("li a.active").map((function(t,a){var r=e(a).closest("li.category-filter").closest("ul").closest("li.category-filter");r.length&&o(r)})),e(".catalog-toolbar__ordering input[name=sort-by]").on("change",(function(a){t.$formSearch.find("input[name=sort-by]").val(e(a.currentTarget).val()),t.$formSearch.trigger("submit")})),t.$body.on("click",".cat-menu-close",(function(t){t.preventDefault(),e(this).closest("li").toggleClass("opened")})),e(document).on("click",t.widgetProductCategories+" li a",(function(a){a.preventDefault();var o=e(a.currentTarget),r=o.hasClass("active"),n=o.closest(t.widgetProductCategories);n.find("li a").removeClass("active"),o.addClass("active");var i=n.find("input[name='categories[]']");if(i.length)r?(o.removeClass("active"),i.val("")):i.val(o.data("id")),i.trigger("change");else{var s=o.attr("href");t.$formSearch.attr("action",s).trigger("submit")}})),e(document).on("submit","#products-filter-form",(function(a){a.preventDefault();var o=e(a.currentTarget),r=o.serializeArray(),n=t.convertFromDataToArray(r),i=[],s=t.$productListing.find("input[name=page]");s.val()&&n.push({name:"page",value:s.val()}),n.map((function(t){i.push(encodeURIComponent(t.name)+"="+t.value)}));var c=o.attr("action")+(i&&i.length?"?"+i.join("&"):"");n.push({name:"_",value:+new Date}),e.ajax({url:o.attr("action"),type:"GET",data:n,beforeSend:function(){t.$productListing.addClass("content-loading"),e("html, body").animate({scrollTop:t.$productListing.offset().top-200},500);var a=t.$formSearch.find(".nonlinear");a.length&&a[0].noUiSlider.set([t.$formSearch.find("input[name=min_price]").val(),t.$formSearch.find("input[name=max_price]").val()])},success:function(a){if(0==a.error){var o;t.$productListing.html(a.data);var r,i=a.message;if(i&&e(".products-found").length&&e(".products-found").html('<span class="color-green-900 me-1">'+i.substr(0,i.indexOf(" "))+"</span>"+i.substr(i.indexOf(" ")+1)),null!==(o=a.additional)&&void 0!==o&&o.category_tree)e(".widget-product-categories .widget-layered-nav-list").html(null===(r=a.additional)||void 0===r?void 0:r.category_tree);c!=window.location.href&&window.history.pushState(n,a.message,c)}else AgonApp.showError(a.message||"Opps!")},error:function(t){AgonApp.handleError(t)},complete:function(){t.$productListing.removeClass("content-loading")}})})),window.addEventListener("popstate",(function(){var e=window.location.origin+window.location.pathname;if(t.$formSearch.length){t.$formSearch.attr("action",e);var a=t.parseParamsSearch();t.changeInputInSearchForm(a),t.$formSearch.trigger("submit")}else history.back()}),!1),e(document).on("click",t.productListing+" .paginations a",(function(a){a.preventDefault();var o=new URL(e(a.currentTarget).attr("href")).searchParams.get("page");t.$productListing.find("input[name=page]").val(o),t.$formSearch.trigger("submit")}))},t.parseParamsSearch=function(t){for(var e,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t||window.location.search.substring(1),r=/([^&=]+)=?([^&]*)/g,n=/\+/g,i=function(t){return decodeURIComponent(t.replace(n," "))},s={};e=r.exec(o);){var c=i(e[1]),l=i(e[2]);"[]"==c.substring(c.length-2)?(a&&(c=c.substring(0,c.length-2)),(s[c]||(s[c]=[])).push(l)):s[c]=l}return s},t.searchProducts=function(){e("body").on("click",(function(t){e(t.target).closest(".form--quick-search").length||e(".panel--search-result").removeClass("active")}));var t=null;function a(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=a.find(".panel--search-result");if(a.find(".input-search-product").val()){var n=a.find("button[type=submit]");t=e.ajax({type:"GET",url:o||a.data("ajax-url"),data:o?[]:a.serialize(),beforeSend:function(){null!=t&&t.abort(),n.addClass("loading")},success:function(t){if(t.error)r.html("").removeClass("active");else if(o){var a=e("<div>"+t.data+"</div>");r.find(".panel__content").find(".loadmore-container").remove(),r.find(".panel__content").append(a.find(".panel__content").contents())}else r.html(t.data).addClass("active");n.removeClass("loading")},error:function(){n.removeClass("loading")}})}else r.html("").removeClass("active")}e(".form--quick-search .input-search-product").on("keyup",(function(){a(e(this).closest("form"))})),e(".form--quick-search .product-category-select").on("change",(function(){a(e(this).closest("form"))})),e(".form--quick-search").on("click",".loadmore",(function(t){t.preventDefault();var o=e(this).closest("form");e(this).addClass("loading"),a(o,e(this).attr("href"))}))},t.processUpdateCart=function(a){var o=e(".cart-page-content").find(".form--shopping-cart");if(!o.length)return!1;e.ajax({type:"POST",cache:!1,url:o.prop("action"),data:new FormData(o[0]),contentType:!1,processData:!1,beforeSend:function(){a.addClass("button-loading")},success:function(a){if(a.error)return AgonApp.showError(a.message),!1;e(".cart-page-content").load(window.siteConfig.cartUrl+" .cart-page-content > *",(function(){})),t.loadAjaxCart(),AgonApp.showSuccess(a.message)},error:function(t){a.closest(".ps-table--shopping-cart").removeClass("content-loading"),AgonApp.showError(t.message)},complete:function(){a.removeClass("button-loading")}})},t.ajaxUpdateCart=function(a){e(document).on("click",".cart-page-content .update_cart",(function(a){a.preventDefault();var o=e(a.currentTarget);t.processUpdateCart(o)}))},t.removeCartItem=function(){e(document).on("click",".remove-cart-item",(function(a){a.preventDefault();var o=e(this),r=o.closest(".mini-cart-item");e.ajax({url:o.data("url"),method:"GET",beforeSend:function(){o.addClass("button-loading"),r.fadeOut(1e3)},success:function(a){var o;if(a.error)return AgonApp.showError(a.message),!1;var n=e(".cart-page-content");n.length&&null!==(o=window.siteConfig)&&void 0!==o&&o.cartUrl&&n.load(window.siteConfig.cartUrl+" .cart-page-content > *",(function(){})),r.remove(),t.loadAjaxCart()},error:function(t){AgonApp.showError(t.message),r.fadeIn()},complete:function(){o.removeClass("button-loading")}})}))},t.removeWishlistItem=function(){e(document).on("click",".remove-wishlist-item",(function(t){t.preventDefault();var a=e(this);e.ajax({url:a.data("url"),method:"POST",data:{_method:"DELETE"},beforeSend:function(){a.addClass("button-loading")},success:function(t){t.error?AgonApp.showError(t.message):(AgonApp.showSuccess(t.message),e(".btn-wishlist .header-item-counter").text(t.data.count),0===t.data.count?e(".wishlist-page-content").load(window.siteConfig.wishlistUrl+" .wishlist-page-content > *"):a.closest("tr").remove())},error:function(t){AgonApp.showError(t.message)},complete:function(){a.removeClass("button-loading")}})}))},t.removeCompareItem=function(){e(document).on("click",".remove-compare-item",(function(t){t.preventDefault();var a=e(this);e.ajax({url:a.data("url"),method:"POST",data:{_method:"DELETE"},beforeSend:function(){a.addClass("button-loading")},success:function(t){t.error?AgonApp.showError(t.message):(AgonApp.showSuccess(t.message),e(".btn-compare .header-item-counter").text(t.data.count),e(".compare-page-content").load(window.location.href+" .compare-page-content > *"))},error:function(t){AgonApp.showError(t.message)},complete:function(){a.removeClass("button-loading")}})}))},t.handleTabBootstrap=function(){var t=window.location.hash;if(t){var a=e('a[href="'+t+'"]');if(a.length)new bootstrap.Tab(a[0]).show()}},t.filterSlider=function(){e(".nonlinear").each((function(a,o){var r=e(o),n=r.data("min"),i=r.data("max"),s=e(o).closest(".nonlinear-wrapper");noUiSlider.create(o,{connect:!0,behaviour:"tap",start:[s.find(".product-filter-item-price-0").val(),s.find(".product-filter-item-price-1").val()],range:{min:n,"10%":.1*i,"20%":.2*i,"30%":.3*i,"40%":.4*i,"50%":.5*i,"60%":.6*i,"70%":.7*i,"80%":.8*i,"90%":.9*i,max:i}});var c=[s.find(".slider__min"),s.find(".slider__max")];o.noUiSlider.on("update",(function(e,a){c[a].html(t.numberFormat(e[a]))})),o.noUiSlider.on("change",(function(t,e){s.find(".product-filter-item-price-"+e).val(Math.round(t[e])).trigger("change")}))}))},t.numberFormat=function(t,e,a,o){var r=isFinite(+t)?+t:0,n=isFinite(+e)?Math.abs(e):0,i=void 0===o?",":o,s=void 0===a?".":a,c=(n?function(t,e){var a=Math.pow(10,e);return Math.round(t*a)/a}(r,n):Math.round(r)).toString().split(".");return c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(c[1]||"").length<n&&(c[1]=c[1]||"",c[1]+=new Array(n-c[1].length+1).join("0")),c.join(s)},t.customerDashboard=function(){e.fn.datepicker&&e("#date_of_birth").datepicker({format:"yyyy-mm-dd",orientation:"bottom"}),e("#avatar").on("change",(function(t){var a=t.currentTarget;if(a.files&&a.files[0]){var o=new FileReader;o.onload=function(t){e(".userpic-avatar").attr("src",t.target.result)},o.readAsDataURL(a.files[0])}})),e(document).on("click",".btn-trigger-delete-address",(function(t){t.preventDefault(),e(".btn-confirm-delete").data("url",e(this).data("url")),e("#confirm-delete-modal").modal("show")})),e(document).on("click",".btn-confirm-delete",(function(t){t.preventDefault();var a=e(this);e.ajax({url:a.data("url"),type:"GET",beforeSend:function(){a.addClass("loading")},success:function(t){a.closest(".modal").modal("hide"),t.error?AgonApp.showError(t.message):(AgonApp.showSuccess(t.message),e('.btn-trigger-delete-address[data-url="'+a.data("url")+'"]').closest(".col").remove())},error:function(t){AgonApp.handleError(t)},complete:function(){a.removeClass("loading")}})}))},t.recentlyViewedProducts=function(){t.$body.find(".header-recently-viewed").each((function(){var a,o=e(this);o.hover((function(){var r=o.find(".recently-viewed-products");if(!o.data("loaded")&&!a){var n=o.data("url");n&&e.ajax({type:"GET",url:n,beforeSend:function(){a=!0},success:function(e){e.error?AgonApp.showError(e.message):(r.html(e.data),r.find(".product-list li").length>0&&t.slickSlide(r.find(".product-list")),o.data("loaded",!0).find(".loading--wrapper").addClass("d-none"))},error:function(t){AgonApp.handleError(t)},complete:function(){a=!1}})}}))}))},t.toggleViewProducts=function(){e(document).on("click",".store-list-filter-button",(function(t){t.preventDefault(),e("#store-listing-filter-form-wrap").toggle(500)})),t.$body.on("click",".toolbar-view__icon a",(function(a){a.preventDefault();var o=e(a.currentTarget);o.closest(".toolbar-view__icon").find("a").removeClass("active"),o.addClass("active"),e(o.data("target")).removeClass(o.data("class-remove")).addClass(o.data("class-add")),t.$formSearch.find("input[name=layout]").val(o.data("layout"));var r=new URLSearchParams(window.location.search);r.set("layout",o.data("layout"));var n=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+r.toString();n!=window.location.href&&window.history.pushState(t.$productListing.html(),"",n)}))},t.toolbarOrderingProducts=function(){t.$body.on("click",".catalog-toolbar__ordering .dropdown .dropdown-menu a",(function(t){t.preventDefault();var a=e(t.currentTarget),o=a.closest(".dropdown");o.find("li a").removeClass("active"),a.closest("li a").addClass("active"),o.find("a[data-bs-toggle=dropdown] span").html(a.html()),a.closest(".catalog-toolbar__ordering").find("input[name=sort-by]").val(a.data("value")).trigger("change")}))},t.lightBox=function(){var t=e(".review-images-total.review-images");t.length&&t.map((function(t,a){e(a).data("lightGallery")||e(a).lightGallery({selector:"a",thumbnail:!0,share:!1,fullScreen:!1,autoplay:!1,autoplayControls:!1,actualSize:!1})}))},t.stickyAddToCart=function(){var t=e(".header--product");e(window).scroll((function(){e(this).scrollTop()>50?t.addClass("header--sticky"):t.removeClass("header--sticky")})),e(".header--product ul li > a ").on("click",(function(t){t.preventDefault();var a=e(this).attr("href");e(this).closest("li").siblings("li").removeClass("active"),e(this).closest("li").addClass("active"),e(a).closest(".product-detail-tabs").find("a").removeClass("active"),e(a).addClass("active"),e(".header--product ul li").removeClass("active"),e('.header--product ul li a[href="'+a+'"]').closest("li").addClass("active"),e("#product-detail-tabs-content > .tab-pane").removeClass("active show"),e(e(a).attr("href")).addClass("active show"),e("html, body").animate({scrollTop:e(a).offset().top-e(".header--product .navigation").height()-165+"px"},0)}));var a=e(".product-details .entry-product-header"),o=e(".sticky-atc-wrap");if(o.length&&a.length&&e(window).width()<768){var r=a.offset().top+a.outerHeight(),n=e(".footer-mobile"),i=0,s=n.length>0,c=function(){var t=e(window).scrollTop(),a=e(window).height(),c=e(document).height();i=s?n.offset().top-n.height():t,t+a===c||r>t||t>i?o.removeClass("sticky-atc-shown"):r<t&&t+a!==c&&o.addClass("sticky-atc-shown")};c(),e(window).scroll(c)}};var o,r=e(document.body).find(".comment-list"),n=e(document.body).find(".loading-spinner");(o=e(".product-review-images")).data("lightGallery")&&o.data("lightGallery").destroy(!0),o.lightGallery({selector:"a",thumbnail:!0,share:!1,fullScreen:!1,autoplay:!1,autoplayControls:!1,actualSize:!1});var i=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.ajax({url:t,type:"GET",beforeSend:function(){n.removeClass("d-none"),a&&e("html, body").animate({scrollTop:"".concat(e(".product-reviews-container").offset().top,"px")},1500)},success:function(t){r.html(t.data),e(".product-reviews-container .product-reviews-header").html(t.message);var a=e(".product-reviews-container .review-images");a.length&&a.map((function(t,a){e(a).data("lightGallery")||e(a).lightGallery({selector:"a",thumbnail:!0,share:!1,fullScreen:!1,autoplay:!1,autoplayControls:!1,actualSize:!1})}))},complete:function(){n.addClass("d-none")}})};t.reviewList=function(){n.addClass("d-none"),r.length<1||(i(r.data("url")),r.on("click",".paginations ul.pager li a",(function(t){t.preventDefault();var a=e(this).attr("href");"#"!==a&&i(a,!0)})))},e((function(){t.init(),window.onBeforeChangeSwatches=function(t,e){var a=e.closest(".product-details"),o=a.find(".cart-form");a.find(".error-message").hide(),a.find(".success-message").hide(),a.find(".number-items-available").html("").hide();var r=o.find("button[type=submit]");r.addClass("button-loading"),t&&t.attributes&&r.prop("disabled",!0)},window.onChangeSwatchesSuccess=function(a,o){var r=o.closest(".product-details"),n=r.find(".cart-form"),i=e(".footer-cart-form");if(r.find(".error-message").hide(),r.find(".success-message").hide(),a){var s=n.find("button[type=submit]");if(s.removeClass("button-loading"),a.error)s.prop("disabled",!0),r.find(".number-items-available").html('<span class="text-danger">('+a.message+")</span>").show(),n.find(".hidden-product-id").val(""),i.find(".hidden-product-id").val("");else{var c=a.data,l=r.find(".box-price"),d=l.find(".price"),u=l.find(".price-old");c.sale_price!==c.price?u.removeClass("d-none"):u.addClass("d-none"),d.text(c.display_sale_price),u.text(c.display_price),c.sku?(r.find(".meta-sku .meta-value").text(c.sku),r.find(".meta-sku").removeClass("d-none")):r.find(".meta-sku").addClass("d-none"),n.find(".hidden-product-id").val(c.id),i.find(".hidden-product-id").val(c.id),s.prop("disabled",!1),c.error_message?(s.prop("disabled",!0),r.find(".number-items-available").html('<span class="text-danger">('+c.error_message+")</span>").show()):c.success_message?r.find(".number-items-available").html(a.data.stock_status_html).show():r.find(".number-items-available").html("").hide();var p=c.unavailable_attribute_ids||[];r.find(".attribute-swatch-item").removeClass("pe-none"),r.find(".product-filter-item option").prop("disabled",!1),p&&p.length&&p.map((function(t){var e=r.find('.attribute-swatch-item[data-id="'+t+'"]');e.length?(e.addClass("pe-none"),e.find("input").prop("checked",!1)):(e=r.find('.product-filter-item option[data-id="'+t+'"]')).length&&e.prop("disabled","disabled").prop("selected",!1)}));var f=r.find(".galleries");if(f.length){c.image_with_sizes.origin.length||c.image_with_sizes.origin.push(siteConfig.default_image),c.image_with_sizes.thumb.length||c.image_with_sizes.thumb.push(siteConfig.img_placeholder);var h="";c.image_with_sizes.origin.forEach((function(t){h+='<figure class="border-radius-10">\n                                    <img src="'.concat(t,'" alt="').concat(c.name,'">\n                                </figure>')})),f.find(".product-image-slider").slick("unslick").html(h);var m="";c.image_with_sizes.thumb.forEach((function(t){m+='<div>\n                                <img src="'.concat(t,'" alt="').concat(c.name,'">\n                            </div>')})),f.find(".slider-nav-thumbnails").slick("unslick").html(m),t.productGallery(!0,f.find(".product-image-slider"))}}}},jQuery().mCustomScrollbar&&e(".ps-custom-scrollbar").mCustomScrollbar({theme:"dark",scrollInertia:0}),e(document).on("click",".toggle-show-more",(function(t){t.preventDefault(),e("#store-short-description").fadeOut(),e(this).hide(),e("#store-content").slideDown(500),e(".toggle-show-less").show()})),e(document).on("click",".toggle-show-less",(function(t){t.preventDefault(),e(this).hide(),e("#store-content").slideUp(500),e("#store-short-description").fadeIn(),e(".toggle-show-more").show()}));var a=function(){e(".page-breadcrumbs ol li").each((function(){var t=e(this);t.is(":first-child")||t.is(":nth-child(2)")||t.is(":last-child")||(t.is(":nth-child(3)")?t.find("a").replaceWith("..."):t.find("a").closest("li").hide())}))};e(window).width()<768&&a(),e(window).on("resize",(function(){a()})),e(".product-entry-meta .anchor-link").on("click",(function(t){t.preventDefault();var a=e(this).attr("href");e("#product-detail-tabs a").removeClass("active"),e(a).addClass("active"),e("#product-detail-tabs-content > .tab-pane").removeClass("active show"),e(e(a).attr("href")).addClass("active show"),e("html, body").animate({scrollTop:e(a).offset().top-e(".header--product .navigation").height()-250+"px"},0)})),e(document).on("click",".header-top .header-cart-button",(function(e){e.preventDefault(),t.$shopCart.show(),t.loadAjaxCart()}))}))}(jQuery)})();